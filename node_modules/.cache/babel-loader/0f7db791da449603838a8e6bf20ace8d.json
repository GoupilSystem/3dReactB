{"ast":null,"code":"import _slicedToArray from \"C:\\\\Users\\\\scarleti\\\\Desktop\\\\Cyril\\\\React\\\\3dHoverBis\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";\nimport _objectWithoutProperties from \"C:\\\\Users\\\\scarleti\\\\Desktop\\\\Cyril\\\\React\\\\3dHoverBis\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectWithoutProperties\";\nvar _jsxFileName = \"C:\\\\Users\\\\scarleti\\\\Desktop\\\\Cyril\\\\React\\\\3dHoverBis\\\\src\\\\ship.js\";\nimport * as THREE from 'three';\nimport React, { useState, useRef } from 'react';\nimport { useLoader, useFrame } from 'react-three-fiber';\nimport { GLTFLoader } from 'three/examples/jsm/loaders/GLTFLoader';\nconst geometry = new THREE.BoxBufferGeometry(1, 1, 40);\nconst position = new THREE.Vector3();\nconst direction = new THREE.Vector3();\nexport default function Ship() {\n  const gltf = useLoader(GLTFLoader, '/carrito.gltf');\n  const carRef = useRef();\n  const materialDefault = new THREE.MeshPhysicalMaterial({\n    color: 0x00cc00,\n    roughness: 0.8\n  });\n  const materialHover = new THREE.MeshPhysicalMaterial({\n    color: 0xcc0000,\n    roughness: 0.1\n  });\n\n  const Car = (_ref) => {\n    let time = _ref.time,\n        props = _objectWithoutProperties(_ref, [\"time\"]);\n\n    const _useState = useState(false),\n          _useState2 = _slicedToArray(_useState, 2),\n          hovered = _useState2[0],\n          setHover = _useState2[1];\n\n    const hover = e => e.stopPropagation() && setHover(true);\n\n    const unhover = e => e.stopPropagation() && setHover(false); // In here it could load textures, images, triangulate textgeometry, etc\n    // The line below produces a fake load, emulating loading assets/set-up processing\n\n\n    usePromise(ms => new Promise(res => setTimeout(res, ms)), [time]); // React will bail out until the suspense is lifted, then it renders the view\n\n    return /*#__PURE__*/React.createElement(\"mesh\", Object.assign({}, props, {\n      onClick: () => alert(\"clicked mesh\"),\n      onPointerOver: hover,\n      onPointerOut: unhover,\n      material: hovered ? materialHover : materialDefault,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 34,\n        columnNumber: 7\n      }\n    }), /*#__PURE__*/React.createElement(\"bufferGeometry\", Object.assign({\n      attach: \"geometry\"\n    }, gltf.__$[10].geometry, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 40,\n        columnNumber: 9\n      }\n    })), /*#__PURE__*/React.createElement(HTML, {\n      scaleFactor: 10,\n      style: {\n        pointerEvents: \"none\",\n        display: hovered ? \"block\" : \"none\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 41,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"content\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 42,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"button\", {\n      style: {\n        pointerEvents: \"all\"\n      },\n      onClick: e => {\n        e.stopPropagation();\n        e.nativeEvent.stopImmediatePropagation();\n        e.nativeEvent.stopPropagation();\n        alert(\"Clicked button\");\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 43,\n        columnNumber: 13\n      }\n    }, \"Suspense \", /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 24\n      }\n    }), time, \"ms\"))));\n  };\n\n  return /*#__PURE__*/React.createElement(\"group\", {\n    ref: carRef,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"group\", {\n    scale: [1, 1, 1],\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Car, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(\"mesh\", {\n    onPointerOver: hover,\n    onPointerOut: unhover,\n    material: hovered ? materialHover : materialDefault,\n    position: [0, 0, 0],\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"bufferGeometry\", Object.assign({\n    attach: \"geometry\"\n  }, gltf.__$[11].geometry, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 13\n    }\n  }))), /*#__PURE__*/React.createElement(\"mesh\", {\n    onPointerOver: hover,\n    onPointerOut: unhover // material={hovered ? materialHover : materialDefault}\n    ,\n    position: [0, 0, 0],\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"bufferGeometry\", Object.assign({\n    attach: \"geometry\"\n  }, gltf.__$[13].geometry, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 13\n    }\n  }))), /*#__PURE__*/React.createElement(\"mesh\", {\n    onPointerOver: hover,\n    onPointerOut: unhover // material={hovered ? materialHover : materialDefault}\n    ,\n    position: [0, 0, 0],\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"bufferGeometry\", Object.assign({\n    attach: \"geometry\"\n  }, gltf.__$[3].geometry, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 13\n    }\n  }))), /*#__PURE__*/React.createElement(\"mesh\", {\n    onPointerOver: hover,\n    onPointerOut: unhover // material={hovered ? materialHover : materialDefault}\n    ,\n    position: [0, 0, 0],\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"bufferGeometry\", Object.assign({\n    attach: \"geometry\"\n  }, gltf.__$[3].geometry, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 13\n    }\n  })))));\n} // <primitive object={gltf.s+cene} position={[-2, 2, 0]} rotation={[Math.PI / 3, Math.PI/4, 0]}/>","map":{"version":3,"sources":["C:/Users/scarleti/Desktop/Cyril/React/3dHoverBis/src/ship.js"],"names":["THREE","React","useState","useRef","useLoader","useFrame","GLTFLoader","geometry","BoxBufferGeometry","position","Vector3","direction","Ship","gltf","carRef","materialDefault","MeshPhysicalMaterial","color","roughness","materialHover","Car","time","props","hovered","setHover","hover","e","stopPropagation","unhover","usePromise","ms","Promise","res","setTimeout","alert","__$","pointerEvents","display","nativeEvent","stopImmediatePropagation"],"mappings":"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","sourcesContent":["import * as THREE from 'three'\r\nimport React, { useState, useRef } from 'react'\r\nimport { useLoader, useFrame } from 'react-three-fiber'\r\nimport { GLTFLoader } from 'three/examples/jsm/loaders/GLTFLoader'\r\n\r\nconst geometry = new THREE.BoxBufferGeometry(1, 1, 40)\r\nconst position = new THREE.Vector3()\r\nconst direction = new THREE.Vector3()\r\n\r\nexport default function Ship() {\r\n  const gltf = useLoader(GLTFLoader, '/carrito.gltf')\r\n  const carRef = useRef()\r\n\r\n  const materialDefault = new THREE.MeshPhysicalMaterial({\r\n    color: 0x00cc00,\r\n    roughness: 0.8\r\n  })\r\n  const materialHover = new THREE.MeshPhysicalMaterial({\r\n    color: 0xcc0000,\r\n    roughness: 0.1\r\n  })\r\n\r\n  const Car = ({ time, ...props }) => {\r\n    const [hovered, setHover] = useState(false)\r\n    const hover = e => e.stopPropagation() && setHover(true)\r\n    const unhover = e => e.stopPropagation() && setHover(false)\r\n  \r\n    // In here it could load textures, images, triangulate textgeometry, etc\r\n    // The line below produces a fake load, emulating loading assets/set-up processing\r\n    usePromise(ms => new Promise(res => setTimeout(res, ms)), [time])\r\n    // React will bail out until the suspense is lifted, then it renders the view\r\n  \r\n    return (\r\n      <mesh\r\n        {...props}\r\n        onClick={() => alert(\"clicked mesh\")}\r\n        onPointerOver={hover}\r\n        onPointerOut={unhover}\r\n        material={hovered ? materialHover : materialDefault}>\r\n        <bufferGeometry attach=\"geometry\" {...gltf.__$[10].geometry} />\r\n        <HTML scaleFactor={10} style={{ pointerEvents: \"none\", display: hovered ? \"block\" : \"none\" }}>\r\n          <div className=\"content\">\r\n            <button\r\n              style={{ pointerEvents: \"all\" }}\r\n              onClick={e => {\r\n                e.stopPropagation()\r\n                e.nativeEvent.stopImmediatePropagation()\r\n                e.nativeEvent.stopPropagation()\r\n                alert(\"Clicked button\")\r\n              }}>\r\n              Suspense <br />\r\n              {time}ms\r\n            </button>\r\n          </div>\r\n        </HTML>\r\n      </mesh>\r\n    )\r\n  }\r\n\r\n  return (\r\n    <group ref={carRef}>\r\n      <group scale={[1, 1, 1]}>\r\n        <Car />\r\n        <mesh \r\n          onPointerOver={hover}\r\n          onPointerOut={unhover}\r\n          material={hovered ? materialHover : materialDefault}\r\n          position={[0, 0, 0]}>\r\n            <bufferGeometry attach=\"geometry\" {...gltf.__$[11].geometry} />\r\n        </mesh>\r\n        <mesh \r\n          onPointerOver={hover}\r\n          onPointerOut={unhover}\r\n          // material={hovered ? materialHover : materialDefault}\r\n          position={[0, 0, 0]}>\r\n            <bufferGeometry attach=\"geometry\" {...gltf.__$[13].geometry} />\r\n        </mesh>\r\n        <mesh \r\n          onPointerOver={hover}\r\n          onPointerOut={unhover}\r\n          // material={hovered ? materialHover : materialDefault}\r\n          position={[0, 0, 0]}>\r\n            <bufferGeometry attach=\"geometry\" {...gltf.__$[3].geometry} />\r\n        </mesh>\r\n        <mesh \r\n          onPointerOver={hover}\r\n          onPointerOut={unhover}\r\n          // material={hovered ? materialHover : materialDefault}\r\n          position={[0, 0, 0]}>\r\n            <bufferGeometry attach=\"geometry\" {...gltf.__$[3].geometry} />\r\n        </mesh>\r\n      </group>\r\n    </group>\r\n  )\r\n}\r\n\r\n\r\n// <primitive object={gltf.s+cene} position={[-2, 2, 0]} rotation={[Math.PI / 3, Math.PI/4, 0]}/>"]},"metadata":{},"sourceType":"module"}