{"ast":null,"code":"import _objectWithoutPropertiesLoose from '@babel/runtime/helpers/esm/objectWithoutPropertiesLoose';\nimport { useMemo, useEffect } from 'react';\nimport { WebGLMultisampleRenderTarget, WebGLRenderTarget } from 'three';\nimport { useThree } from 'react-three-fiber'; // ðŸ‘‡ uncomment when TS version supports function overloads\n// export function useFBO(settings?: FBOSettings)\n\nfunction useFBO(width, height, settings) {\n  const _useThree = useThree(),\n        size = _useThree.size,\n        gl = _useThree.gl;\n\n  const dpr = useMemo(() => gl.getPixelRatio(), [gl]);\n\n  const _width = typeof width === 'number' ? width : size.width * dpr;\n\n  const _height = typeof height === 'number' ? height : size.height * dpr;\n\n  const _settings = (typeof width === 'number' ? settings : width) || {};\n\n  const target = useMemo(() => {\n    const multisample = _settings.multisample,\n          samples = _settings.samples,\n          targetSettings = _objectWithoutPropertiesLoose(_settings, [\"multisample\", \"samples\"]);\n\n    let target;\n\n    if (multisample && gl.capabilities.isWebGL2) {\n      target = new WebGLMultisampleRenderTarget(_width, _height, targetSettings);\n      if (samples) target.samples = samples;\n    } else {\n      target = new WebGLRenderTarget(_width, _height, targetSettings);\n    }\n\n    return target; // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n  useEffect(() => {\n    target.setSize(_width, _height);\n  }, [target, _width, _height]);\n  useEffect(() => {\n    return () => target.dispose(); // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n  return target;\n}\n\nexport { useFBO };","map":null,"metadata":{},"sourceType":"module"}