{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\scarleti\\\\Desktop\\\\Cyril\\\\React\\\\3dHoverBis\\\\src\\\\ship.js\";\nimport * as THREE from 'three';\nimport React, { useRef } from 'react';\nimport { useLoader, useFrame } from 'react-three-fiber';\nimport { GLTFLoader } from 'three/examples/jsm/loaders/GLTFLoader';\nimport useStore from '../store';\nconst geometry = new THREE.BoxBufferGeometry(1, 1, 40);\nconst position = new THREE.Vector3();\nconst direction = new THREE.Vector3();\nexport default function Ship() {\n  const gltf = useLoader(GLTFLoader, '/ship.gltf');\n  const mutation = useStore(state => state.mutation);\n  const clock = mutation.clock,\n        mouse = mutation.mouse,\n        ray = mutation.ray;\n  const main = useRef();\n  const cross = useRef();\n  const target = useRef();\n  useFrame(() => {\n    main.current.position.z = Math.sin(clock.getElapsedTime() * 40) * Math.PI * 0.1;\n    main.current.rotation.z += (mouse.x / 500 - main.current.rotation.z) * 0.1;\n    main.current.rotation.x += (-mouse.y / 1200 - main.current.rotation.x) * 0.1;\n    main.current.rotation.y += (-mouse.x / 1200 - main.current.rotation.y) * 0.1;\n    main.current.position.x += (mouse.x / 10 - main.current.position.x) * 0.1;\n    main.current.position.y += (25 + -mouse.y / 10 - main.current.position.y) * 0.1; // Get ships orientation and save it to the stores ray\n\n    main.current.getWorldPosition(position);\n    main.current.getWorldDirection(direction);\n    ray.origin.copy(position);\n    ray.direction.copy(direction.negate());\n  });\n  return /*#__PURE__*/React.createElement(\"group\", {\n    ref: main,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 36,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"group\", {\n    scale: [3.5, 3.5, 3.5],\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"group\", {\n    rotation: [Math.PI / 2, Math.PI, 0],\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 38,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"mesh\", {\n    name: \"Renault_(S,_T1)_0\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"bufferGeometry\", Object.assign({\n    attach: \"geometry\"\n  }, gltf.__$[5].geometry, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 13\n    }\n  })), /*#__PURE__*/React.createElement(\"meshStandardMaterial\", {\n    attach: \"material\",\n    color: \"#070707\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 13\n    }\n  })), /*#__PURE__*/React.createElement(\"mesh\", {\n    name: \"Renault_(S,_T1)_1\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"bufferGeometry\", Object.assign({\n    attach: \"geometry\"\n  }, gltf.__$[6].geometry, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 13\n    }\n  })), /*#__PURE__*/React.createElement(\"meshStandardMaterial\", {\n    attach: \"material\",\n    color: \"black\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 13\n    }\n  })), /*#__PURE__*/React.createElement(\"mesh\", {\n    name: \"Renault_(S,_T1)_2\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"bufferGeometry\", Object.assign({\n    attach: \"geometry\"\n  }, gltf.__$[7].geometry, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 13\n    }\n  })), /*#__PURE__*/React.createElement(\"meshStandardMaterial\", {\n    attach: \"material\",\n    color: \"#070707\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 13\n    }\n  })), /*#__PURE__*/React.createElement(\"mesh\", {\n    name: \"Renault_(S,_T1)_3\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"bufferGeometry\", Object.assign({\n    attach: \"geometry\"\n  }, gltf.__$[8].geometry, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 13\n    }\n  })), /*#__PURE__*/React.createElement(\"meshBasicMaterial\", {\n    attach: \"material\",\n    color: \"lightblue\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 13\n    }\n  })), /*#__PURE__*/React.createElement(\"mesh\", {\n    name: \"Renault_(S,_T1)_4\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"bufferGeometry\", Object.assign({\n    attach: \"geometry\"\n  }, gltf.__$[9].geometry, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 13\n    }\n  })), /*#__PURE__*/React.createElement(\"meshBasicMaterial\", {\n    attach: \"material\",\n    color: \"white\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 13\n    }\n  })), /*#__PURE__*/React.createElement(\"mesh\", {\n    name: \"Renault_(S,_T1)_5\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"bufferGeometry\", Object.assign({\n    attach: \"geometry\"\n  }, gltf.__$[10].geometry, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 13\n    }\n  })), /*#__PURE__*/React.createElement(\"meshBasicMaterial\", {\n    attach: \"material\",\n    color: \"teal\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 13\n    }\n  })))));\n}","map":{"version":3,"sources":["C:/Users/scarleti/Desktop/Cyril/React/3dHoverBis/src/ship.js"],"names":["THREE","React","useRef","useLoader","useFrame","GLTFLoader","useStore","geometry","BoxBufferGeometry","position","Vector3","direction","Ship","gltf","mutation","state","clock","mouse","ray","main","cross","target","current","z","Math","sin","getElapsedTime","PI","rotation","x","y","getWorldPosition","getWorldDirection","origin","copy","negate","__$"],"mappings":"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","sourcesContent":["import * as THREE from 'three'\r\nimport React, { useRef } from 'react'\r\nimport { useLoader, useFrame } from 'react-three-fiber'\r\nimport { GLTFLoader } from 'three/examples/jsm/loaders/GLTFLoader'\r\nimport useStore from '../store'\r\n\r\nconst geometry = new THREE.BoxBufferGeometry(1, 1, 40)\r\nconst position = new THREE.Vector3()\r\nconst direction = new THREE.Vector3()\r\n\r\nexport default function Ship() {\r\n  const gltf = useLoader(GLTFLoader, '/ship.gltf')\r\n  const mutation = useStore(state => state.mutation)\r\n  const { clock, mouse, ray } = mutation\r\n  const main = useRef()\r\n  const cross = useRef()\r\n  const target = useRef()\r\n\r\n  useFrame(() => {\r\n    main.current.position.z = Math.sin(clock.getElapsedTime() * 40) * Math.PI * 0.1\r\n    main.current.rotation.z += (mouse.x / 500 - main.current.rotation.z) * 0.1\r\n    main.current.rotation.x += (-mouse.y / 1200 - main.current.rotation.x) * 0.1\r\n    main.current.rotation.y += (-mouse.x / 1200 - main.current.rotation.y) * 0.1\r\n    main.current.position.x += (mouse.x / 10 - main.current.position.x) * 0.1\r\n    main.current.position.y += (25 + -mouse.y / 10 - main.current.position.y) * 0.1\r\n    \r\n    // Get ships orientation and save it to the stores ray\r\n    main.current.getWorldPosition(position)\r\n    main.current.getWorldDirection(direction)\r\n    ray.origin.copy(position)\r\n    ray.direction.copy(direction.negate())\r\n\r\n  })\r\n\r\n  return (\r\n    <group ref={main}>\r\n      <group scale={[3.5, 3.5, 3.5]}>\r\n        <group rotation={[Math.PI / 2, Math.PI, 0]}>\r\n          <mesh name=\"Renault_(S,_T1)_0\">\r\n            <bufferGeometry attach=\"geometry\" {...gltf.__$[5].geometry} />\r\n            <meshStandardMaterial attach=\"material\" color=\"#070707\" />\r\n          </mesh>\r\n          <mesh name=\"Renault_(S,_T1)_1\">\r\n            <bufferGeometry attach=\"geometry\" {...gltf.__$[6].geometry} />\r\n            <meshStandardMaterial attach=\"material\" color=\"black\" />\r\n          </mesh>\r\n          <mesh name=\"Renault_(S,_T1)_2\">\r\n            <bufferGeometry attach=\"geometry\" {...gltf.__$[7].geometry} />\r\n            <meshStandardMaterial attach=\"material\" color=\"#070707\" />\r\n          </mesh>\r\n          <mesh name=\"Renault_(S,_T1)_3\">\r\n            <bufferGeometry attach=\"geometry\" {...gltf.__$[8].geometry} />\r\n            <meshBasicMaterial attach=\"material\" color=\"lightblue\" />\r\n          </mesh>\r\n          <mesh name=\"Renault_(S,_T1)_4\">\r\n            <bufferGeometry attach=\"geometry\" {...gltf.__$[9].geometry} />\r\n            <meshBasicMaterial attach=\"material\" color=\"white\" />\r\n          </mesh>\r\n          <mesh name=\"Renault_(S,_T1)_5\">\r\n            <bufferGeometry attach=\"geometry\" {...gltf.__$[10].geometry} />\r\n            <meshBasicMaterial attach=\"material\" color=\"teal\" />\r\n          </mesh>\r\n        </group>\r\n      </group>\r\n    </group>\r\n  )\r\n}\r\n"]},"metadata":{},"sourceType":"module"}