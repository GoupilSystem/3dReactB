{"ast":null,"code":"import { useRef, useEffect } from 'react';\nimport { BufferGeometry } from 'three';\nimport { EdgeSplitModifier } from 'three/examples/jsm/modifiers/EdgeSplitModifier';\n\nfunction useEdgeSplit(cutOffAngle, tryKeepNormals = true) {\n  const ref = useRef();\n  const original = useRef();\n  const modifier = useRef();\n  useEffect(() => {\n    if (!original.current && ref.current) {\n      original.current = ref.current.geometry.clone();\n      modifier.current = new EdgeSplitModifier();\n    }\n  }, []);\n  useEffect(() => {\n    if (original.current && ref.current && modifier.current) {\n      let geometry = new BufferGeometry();\n      geometry = original.current.clone();\n      const modifiedGeometry = modifier.current.modify(geometry, cutOffAngle, tryKeepNormals);\n      modifiedGeometry.computeVertexNormals();\n      ref.current.geometry = modifiedGeometry;\n    }\n  }, [cutOffAngle, tryKeepNormals]);\n  return ref;\n}\n\nexport { useEdgeSplit };","map":null,"metadata":{},"sourceType":"module"}