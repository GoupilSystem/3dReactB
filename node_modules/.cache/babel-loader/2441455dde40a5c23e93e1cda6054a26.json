{"ast":null,"code":"import _slicedToArray from \"C:\\\\Users\\\\scarleti\\\\Desktop\\\\Cyril\\\\React\\\\3dHoverBis\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";\nimport _objectWithoutProperties from \"C:\\\\Users\\\\scarleti\\\\Desktop\\\\Cyril\\\\React\\\\3dHoverBis\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectWithoutProperties\";\nvar _jsxFileName = \"C:\\\\Users\\\\scarleti\\\\Desktop\\\\Cyril\\\\React\\\\3dHoverBis\\\\src\\\\map.js\";\nimport * as THREE from 'three';\nimport React, { useState, useRef } from 'react';\nimport { useLoader } from 'react-three-fiber';\nimport usePromise from \"react-promise-suspense\";\nimport { GLTFLoader } from 'three/examples/jsm/loaders/GLTFLoader';\nexport const Map = (_ref) => {\n  let time = _ref.time,\n      props = _objectWithoutProperties(_ref, [\"time\"]);\n\n  const gltf = useLoader(GLTFLoader, '/map.gltf');\n  const ref = useRef();\n\n  const _useState = useState(props.color),\n        _useState2 = _slicedToArray(_useState, 2),\n        currentColor = _useState2[0],\n        setCurrentColor = _useState2[1];\n\n  const defaultMaterial = new THREE.MeshPhysicalMaterial({\n    color: currentColor,\n    roughness: 1\n  });\n\n  const Model = () => {\n    // In here it could load textures, images, triangulate textgeometry, etc\n    // The line below produces a fake load, emulating loading assets/set-up processing\n    usePromise(ms => new Promise(res => setTimeout(res, ms)), [time]); // React will bail out until the suspense is lifted, then it renders the view\n\n    return /*#__PURE__*/React.createElement(\"mesh\", Object.assign({}, props, {\n      material: defaultMaterial,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 27,\n        columnNumber: 7\n      }\n    }), /*#__PURE__*/React.createElement(\"bufferGeometry\", Object.assign({\n      attach: \"geometry\"\n    }, gltf.__$[props.index].geometry, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 30,\n        columnNumber: 9\n      }\n    })));\n  };\n\n  return /*#__PURE__*/React.createElement(\"group\", {\n    ref: ref,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 36,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"group\", {\n    scale: [3, 3, 3],\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Model, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 38,\n      columnNumber: 9\n    }\n  })));\n};","map":{"version":3,"sources":["C:/Users/scarleti/Desktop/Cyril/React/3dHoverBis/src/map.js"],"names":["THREE","React","useState","useRef","useLoader","usePromise","GLTFLoader","Map","time","props","gltf","ref","color","currentColor","setCurrentColor","defaultMaterial","MeshPhysicalMaterial","roughness","Model","ms","Promise","res","setTimeout","__$","index","geometry"],"mappings":";;;AAAA,OAAO,KAAKA,KAAZ,MAAuB,OAAvB;AACA,OAAOC,KAAP,IAAgBC,QAAhB,EAA0BC,MAA1B,QAAwC,OAAxC;AACA,SAASC,SAAT,QAA0B,mBAA1B;AACA,OAAOC,UAAP,MAAuB,wBAAvB;AACA,SAASC,UAAT,QAA2B,uCAA3B;AAGA,OAAO,MAAMC,GAAG,GAAG,UAAwB;AAAA,MAArBC,IAAqB,QAArBA,IAAqB;AAAA,MAAZC,KAAY;;AACzC,QAAMC,IAAI,GAAGN,SAAS,CAACE,UAAD,EAAa,WAAb,CAAtB;AACA,QAAMK,GAAG,GAAGR,MAAM,EAAlB;;AAFyC,oBAIDD,QAAQ,CAACO,KAAK,CAACG,KAAP,CAJP;AAAA;AAAA,QAIlCC,YAJkC;AAAA,QAIpBC,eAJoB;;AAMzC,QAAMC,eAAe,GAAG,IAAIf,KAAK,CAACgB,oBAAV,CAA+B;AACrDJ,IAAAA,KAAK,EAAEC,YAD8C;AAErDI,IAAAA,SAAS,EAAE;AAF0C,GAA/B,CAAxB;;AAKA,QAAMC,KAAK,GAAG,MAAM;AAElB;AACA;AACAb,IAAAA,UAAU,CAACc,EAAE,IAAI,IAAIC,OAAJ,CAAYC,GAAG,IAAIC,UAAU,CAACD,GAAD,EAAMF,EAAN,CAA7B,CAAP,EAAgD,CAACX,IAAD,CAAhD,CAAV,CAJkB,CAKlB;;AAEA,wBACE,8CACMC,KADN;AAEE,MAAA,QAAQ,EAAEM,eAFZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBAGE;AAAgB,MAAA,MAAM,EAAC;AAAvB,OAAsCL,IAAI,CAACa,GAAL,CAASd,KAAK,CAACe,KAAf,EAAsBC,QAA5D;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAHF,CADF;AAOD,GAdD;;AAgBA,sBACE;AAAO,IAAA,GAAG,EAAEd,GAAZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAO,IAAA,KAAK,EAAE,CAAC,CAAD,EAAI,CAAJ,EAAO,CAAP,CAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE,oBAAC,KAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,CADF,CADF;AAOD,CAlCM","sourcesContent":["import * as THREE from 'three'\r\nimport React, { useState, useRef } from 'react'\r\nimport { useLoader } from 'react-three-fiber'\r\nimport usePromise from \"react-promise-suspense\"\r\nimport { GLTFLoader } from 'three/examples/jsm/loaders/GLTFLoader'\r\n\r\n\r\nexport const Map = ({ time, ...props }) => {\r\n  const gltf = useLoader(GLTFLoader, '/map.gltf')\r\n  const ref = useRef()\r\n\r\n  const [currentColor, setCurrentColor] = useState(props.color);\r\n  \r\n  const defaultMaterial = new THREE.MeshPhysicalMaterial({\r\n    color: currentColor,\r\n    roughness: 1,\r\n  })\r\n\r\n  const Model = () => {\r\n    \r\n    // In here it could load textures, images, triangulate textgeometry, etc\r\n    // The line below produces a fake load, emulating loading assets/set-up processing\r\n    usePromise(ms => new Promise(res => setTimeout(res, ms)), [time])\r\n    // React will bail out until the suspense is lifted, then it renders the view\r\n  \r\n    return (\r\n      <mesh\r\n        {...props}\r\n        material={defaultMaterial}>\r\n        <bufferGeometry attach=\"geometry\" {...gltf.__$[props.index].geometry} />\r\n      </mesh>\r\n    )\r\n  }\r\n\r\n  return (\r\n    <group ref={ref}>\r\n      <group scale={[3, 3, 3]}>\r\n        <Model />\r\n      </group>\r\n    </group>\r\n  )\r\n}\r\n"]},"metadata":{},"sourceType":"module"}