{"ast":null,"code":"import _slicedToArray from \"C:\\\\Users\\\\scarleti\\\\Desktop\\\\Cyril\\\\React\\\\3dHoverBis\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";\nimport _extends from '@babel/runtime/helpers/esm/extends';\nimport _objectWithoutPropertiesLoose from '@babel/runtime/helpers/esm/objectWithoutPropertiesLoose';\nimport { createElement, useMemo, useState } from 'react';\nimport { CanvasTexture } from 'three';\nimport { useGizmoContext } from './GizmoHelper.js';\n\nfunction Axis({\n  color,\n  rotation\n}) {\n  return /*#__PURE__*/createElement(\"group\", {\n    rotation: rotation\n  }, /*#__PURE__*/createElement(\"mesh\", {\n    position: [0.4, 0, 0]\n  }, /*#__PURE__*/createElement(\"boxGeometry\", {\n    args: [0.8, 0.05, 0.05]\n  }), /*#__PURE__*/createElement(\"meshBasicMaterial\", {\n    color: color,\n    toneMapped: false\n  })));\n}\n\nfunction AxisHead(_ref) {\n  let arcStyle = _ref.arcStyle,\n      label = _ref.label,\n      labelColor = _ref.labelColor,\n      props = _objectWithoutPropertiesLoose(_ref, [\"arcStyle\", \"label\", \"labelColor\"]);\n\n  const texture = useMemo(() => {\n    const canvas = document.createElement('canvas');\n    canvas.width = 64;\n    canvas.height = 64;\n    const context = canvas.getContext('2d');\n    context.beginPath();\n    context.arc(32, 32, 16, 0, 2 * Math.PI);\n    context.closePath();\n    context.fillStyle = arcStyle;\n    context.fill();\n\n    if (label) {\n      context.font = '24px Arial';\n      context.textAlign = 'center';\n      context.fillStyle = labelColor;\n      context.fillText(label, 32, 41);\n    }\n\n    return new CanvasTexture(canvas);\n  }, [arcStyle, label, labelColor]);\n\n  const _useState = useState(false),\n        _useState2 = _slicedToArray(_useState, 2),\n        active = _useState2[0],\n        setActive = _useState2[1];\n\n  const scale = (label ? 1 : 0.75) * (active ? 1.2 : 1);\n\n  const handlePointerOver = e => {\n    setActive(true);\n    e.stopPropagation();\n  };\n\n  const handlePointerOut = e => {\n    setActive(false);\n    e.stopPropagation();\n  };\n\n  return /*#__PURE__*/createElement(\"sprite\", _extends({\n    scale: [scale, scale, scale],\n    onPointerOver: handlePointerOver,\n    onPointerOut: handlePointerOut\n  }, props), /*#__PURE__*/createElement(\"spriteMaterial\", {\n    map: texture,\n    alphaTest: 0.3,\n    opacity: label ? 1 : 0.75,\n    toneMapped: false\n  }));\n}\n\nconst GizmoViewport = _ref2 => {\n  let _ref2$axisColors = _ref2.axisColors,\n      axisColors = _ref2$axisColors === void 0 ? ['#ff3653', '#8adb00', '#2c8fff'] : _ref2$axisColors,\n      _ref2$labelColor = _ref2.labelColor,\n      labelColor = _ref2$labelColor === void 0 ? '#000' : _ref2$labelColor,\n      props = _objectWithoutPropertiesLoose(_ref2, [\"axisColors\", \"labelColor\"]);\n\n  const _axisColors = _slicedToArray(axisColors, 3),\n        colorX = _axisColors[0],\n        colorY = _axisColors[1],\n        colorZ = _axisColors[2];\n\n  const _useGizmoContext = useGizmoContext(),\n        tweenCamera = _useGizmoContext.tweenCamera,\n        raycast = _useGizmoContext.raycast;\n\n  const axisHeadProps = {\n    labelColor,\n    onPointerDown: e => {\n      tweenCamera(e.object.position);\n      e.stopPropagation();\n    },\n    raycast\n  };\n  return /*#__PURE__*/createElement(\"group\", _extends({\n    scale: [40, 40, 40]\n  }, props), /*#__PURE__*/createElement(Axis, {\n    color: colorX,\n    rotation: [0, 0, 0]\n  }), /*#__PURE__*/createElement(Axis, {\n    color: colorY,\n    rotation: [0, 0, Math.PI / 2]\n  }), /*#__PURE__*/createElement(Axis, {\n    color: colorZ,\n    rotation: [0, -Math.PI / 2, 0]\n  }), /*#__PURE__*/createElement(AxisHead, _extends({\n    arcStyle: colorX,\n    position: [1, 0, 0],\n    label: \"X\"\n  }, axisHeadProps)), /*#__PURE__*/createElement(AxisHead, _extends({\n    arcStyle: colorY,\n    position: [0, 1, 0],\n    label: \"Y\"\n  }, axisHeadProps)), /*#__PURE__*/createElement(AxisHead, _extends({\n    arcStyle: colorZ,\n    position: [0, 0, 1],\n    label: \"Z\"\n  }, axisHeadProps)), /*#__PURE__*/createElement(AxisHead, _extends({\n    arcStyle: colorX,\n    position: [-1, 0, 0]\n  }, axisHeadProps)), /*#__PURE__*/createElement(AxisHead, _extends({\n    arcStyle: colorY,\n    position: [0, -1, 0]\n  }, axisHeadProps)), /*#__PURE__*/createElement(AxisHead, _extends({\n    arcStyle: colorZ,\n    position: [0, 0, -1]\n  }, axisHeadProps)), /*#__PURE__*/createElement(\"ambientLight\", {\n    intensity: 0.5\n  }), /*#__PURE__*/createElement(\"pointLight\", {\n    position: [10, 10, 10],\n    intensity: 0.5\n  }));\n};\n\nexport { GizmoViewport };","map":null,"metadata":{},"sourceType":"module"}